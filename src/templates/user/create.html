{% extends 'base.html' %}

{% block title %}Create User{% endblock %}

{% block content %}
    <div class="container">
        <!-- START PAGE TITLE -->
        <div class="row">
            <div class="text-center">
                <h2 class="base-title">CREATE USER</h2>
            </div>
        </div>
        <!-- END PAGE TITLE -->
        <div class="back">
            <a href="{% url 'users' %}" class="btn btn-default red-btn btn-round" role="button">
                <i class="glyphicon glyphicon-menu-left"></i>
            </a>
        </div>
        <div class="row">
            <div class="col-lg-8 col-lg-offset-4">
                <div class="row">
                    <div class="col-lg-12">
                        <!-- START FORM -->
                        <form id="user-form">
                            <div class="form-group error">
                                <label class="control-label" for="id_name"><span class="red-text">*</span>Name</label>
                                <div>
                                    <input type="text" name="name" maxlength="64" class="form-control" id="id_name">
                                    <span class="red-text err"></span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label" for="id_email"><span class="red-text">*</span>Email</label>
                                <div>
                                    <input type="email" name="email" maxlength="128" class="form-control" id="id_email">
                                    <span class="red-text err"></span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label" for="id_mobile">Mobile</label>
                                <div>
                                    <input type="text" name="mobile"  class="form-control" id="id_mobile">
                                    <span class="red-text err"></span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label" for="id_phone">Phone</label>
                                <div>
                                    <input type="text" name="phone" class="form-control" id="id_phone">
                                    <span class="red-text err"></span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="id_status">Status:</label>
                                <div>
                                    <select name="status" id="id_status" class="form-control">
                                        <option value="Inactive">Inactive</option>
                                        <option value="Active">Active</option>
                                    </select>
                                    <span class="red-text err"></span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="text-right">
                                    <input class="btn btn-round green-btn" type="submit" value="Submit">
                                </div>
                            </div>
                        </form>
                        <!-- EMD FORM -->
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
    <script>
        // redirect to home page
        function goToList() {
            setTimeout(function () {
                    window.location.href="{% url 'users' %}"
                },
                3000
            );
        }

        $(function () {
            listenForFormSubmit({
                    url:'{% url 'user-create' %}',
                    formSelector:$('#user-form'),
                    msgSuccess:'User successfully created!',
                    successCallBack:goToList
                }
            );
        });

    </script>
{% endblock %}
